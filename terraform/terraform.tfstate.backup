{
  "version": 4,
  "terraform_version": "1.11.3",
  "serial": 6,
  "lineage": "1ff127f8-9d07-02e4-1206-cce0c106d2e6",
  "outputs": {
    "notification_lambda_name": {
      "value": "hackathon-notification-lambda-v5",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "lambda_sqs_policy_doc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1349325158",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sqs:ReceiveMessage\",\n        \"sqs:GetQueueAttributes\",\n        \"sqs:DeleteMessage\",\n        \"sqs:ChangeMessageVisibility\"\n      ],\n      \"Resource\": \"arn:aws:sqs:us-east-1:905417995957:video-status-notification\"\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"sqs:ReceiveMessage\",\"sqs:GetQueueAttributes\",\"sqs:DeleteMessage\",\"sqs:ChangeMessageVisibility\"],\"Resource\":\"arn:aws:sqs:us-east-1:905417995957:video-status-notification\"}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sqs:ChangeMessageVisibility",
                  "sqs:DeleteMessage",
                  "sqs:GetQueueAttributes",
                  "sqs:ReceiveMessage"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:sqs:us-east-1:905417995957:video-status-notification"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_role",
      "name": "fiap_lab_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::905417995957:role/LabRole",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"codedeploy.amazonaws.com\",\"secretsmanager.amazonaws.com\",\"sqs.amazonaws.com\",\"redshift.amazonaws.com\",\"ecs.amazonaws.com\",\"elasticbeanstalk.amazonaws.com\",\"codewhisperer.amazonaws.com\",\"eks.amazonaws.com\",\"logs.amazonaws.com\",\"glue.amazonaws.com\",\"athena.amazonaws.com\",\"autoscaling.amazonaws.com\",\"states.amazonaws.com\",\"ec2.amazonaws.com\",\"resource-groups.amazonaws.com\",\"iot.amazonaws.com\",\"cloud9.amazonaws.com\",\"credentials.iot.amazonaws.com\",\"backup.amazonaws.com\",\"ecs-tasks.amazonaws.com\",\"pipes.amazonaws.com\",\"scheduler.amazonaws.com\",\"batch.amazonaws.com\",\"events.amazonaws.com\",\"servicecatalog.amazonaws.com\",\"dynamodb.amazonaws.com\",\"rds.amazonaws.com\",\"kinesisanalytics.amazonaws.com\",\"lambda.amazonaws.com\",\"rekognition.amazonaws.com\",\"forecast.amazonaws.com\",\"iotevents.amazonaws.com\",\"firehose.amazonaws.com\",\"codecommit.amazonaws.com\",\"sagemaker.amazonaws.com\",\"s3.amazonaws.com\",\"apigateway.amazonaws.com\",\"cloudtrail.amazonaws.com\",\"elasticmapreduce.amazonaws.com\",\"elasticloadbalancing.amazonaws.com\",\"ec2.application-autoscaling.amazonaws.com\",\"cognito-idp.amazonaws.com\",\"eks-fargate-pods.amazonaws.com\",\"cloudformation.amazonaws.com\",\"elasticfilesystem.amazonaws.com\",\"deepracer.amazonaws.com\",\"application-autoscaling.amazonaws.com\",\"sns.amazonaws.com\",\"kms.amazonaws.com\",\"ssm.amazonaws.com\",\"kinesis.amazonaws.com\",\"iotanalytics.amazonaws.com\",\"databrew.amazonaws.com\"],\"AWS\":\"arn:aws:iam::905417995957:role/LabRole\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2025-09-27T12:00:22Z",
            "description": "",
            "id": "LabRole",
            "max_session_duration": 3600,
            "name": "LabRole",
            "path": "/",
            "permissions_boundary": "",
            "role_last_used": [
              {
                "last_used_date": "2025-09-28T21:31:36Z",
                "region": "us-east-1"
              }
            ],
            "tags": {
              "cloudlab": "c175290a4536275l11579010t1w905417995957"
            },
            "unique_id": "AROA5FTY6G22VTJVDZPGR"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "lambda_sqs_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::905417995957:policy/hackathon-lambda-sqs-policy-v5",
            "attachment_count": 0,
            "description": "",
            "id": "arn:aws:iam::905417995957:policy/hackathon-lambda-sqs-policy-v5",
            "name": "hackathon-lambda-sqs-policy-v5",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:GetQueueAttributes\",\"sqs:DeleteMessage\",\"sqs:ChangeMessageVisibility\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:us-east-1:905417995957:video-status-notification\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPA5FTY6G22QIKT334RQ",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.lambda_sqs_policy_doc"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
